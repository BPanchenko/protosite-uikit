"use strict";!function(e,t){var n=window.UI=t.extend({},e.Events),o={};n.Component=function(e,n){console.assert(e instanceof HTMLElement,"A component element is not HTMLElement"),this.cid=t.uniqueId("component"),this.options=n||{},this.el=e,this._ensureElement(),this.initialize.apply(this,arguments),e[this.constructor.reference]=this},n.Component.extend=function(e,i){var d,r=this;return d=e&&t.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},t.extend(d,{attr:"ui-"+e.name.toLowerCase(),reference:"_ui"+e.name,selector:"*[ui-"+e.name.toLowerCase()+"]"},r,i),d.prototype=t.create(r.prototype,e),d.prototype.constructor=d,d.__super__=r.prototype,n[e.name]=d,o[e.name]=d.selector,d},t.extend(n.Component.prototype,e.View.prototype)}(Backbone,_),function(e){e.backdrop=new(Backbone.View.extend({name:"BackdropView",tagName:"div",className:"c-backdrop",events:{click:function(e){this.trigger("click",this,e)}},show:function(e){return e||(e={}),document.body.appendChild(this.el),_.isNumber(e.opacity)&&(this.el.style.opacity=e.opacity),_.isNumber(e.zIndex)&&(this.el.style.zIndex=e.zIndex),this.trigger("show",this),this},hide:function(){return this.el.style.opacity=0,this.el.style.zIndex="",setTimeout(function(){this.el.style.opacity="",this.trigger("hide",this);try{document.body.removeChild(this.el)}catch(e){}}.bind(this),160),this}}))}(UI),function(e){e.window=new(Backbone.Model.extend({name:"WindowModel",defaults:{width:0,height:0},_origin:window})),e.container=new(Backbone.Model.extend({name:"ContainerModel",defaults:{width:0,height:0,format:""},initialize:function(){this.listenTo(e.window,"change:width",this.setFormat)},setFormat:function(){var t,n=e.window.get("width");return t=n>=1360?"xdesktop":n>=1180?"desktop":n>=1024?"tablet":n>=768?"tablet-portrait":n>=480?"handset":"handset-portrait",this.set({format:t,height:this.el.offsetHeight,width:this.el.offsetWidth})}}));var t=_.throttle(function(){e.window.set({width:window.innerWidth,height:window.innerHeight})},160);document.addEventListener("DOMContentLoaded",function(){window.UI.container.el=document.body.getElementsByClassName("o-container")[0]}),window.addEventListener("load",function(){window.addEventListener("resize",t,!1),t()},!1)}(UI),function(e){var t=document.documentElement;e.dom=Object.create(Backbone.Events),e.dom.observer=new MutationObserver(function(n){var o={added:[],removed:[]};n.forEach(function(e){"childList"==e.type&&(o.added=o.added.concat([].slice.call(e.addedNodes)),o.removed=o.removed.concat([].slice.call(e.removedNodes)))}),e.dom.trigger("change",t,o)}),e.dom.on("ready",function(){e.dom.observer.observe(document.body,{childList:!0,subtree:!0})}),document.addEventListener("DOMContentLoaded",function(){e.dom.trigger("ready",t)})}(UI);