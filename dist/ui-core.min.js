"use strict";!function(t,e){var n=window.UI=e.extend({},t.Events),i={};document.addEventListener("DOMContentLoaded",function(){window.UI.trigger("ready")}),n.Component=function(t,n){this.cid=e.uniqueId("component"),this.options=n||{},this.el=t,this._ensureElement(),this.initialize.apply(this,arguments),t["_ui"+this.name]=this},n.Component.extend=function(t,o){var s,d=this;return s=t&&e.has(t,"constructor")?t.constructor:function(){return d.apply(this,arguments)},e.extend(s,d,o),s.prototype=e.create(d.prototype,t),s.prototype.constructor=s,s.__super__=d.prototype,n[t.name]=s,o.selector&&(i[t.name]=o.selector),s},e.extend(n.Component.prototype,t.View.prototype)}(Backbone,_),function(t){t.window=new(Backbone.Model.extend({name:"WindowModel",defaults:{width:0,height:0},_origin:window})),t.container=new(Backbone.Model.extend({name:"ContainerModel",defaults:{width:0,height:0,format:""},initialize:function(){this.listenTo(t.window,"change:width",this.setFormat)},setFormat:function(){var e,n=t.window.get("width");return e=n>=1360?"xdesktop":n>=1180?"desktop":n>=1024?"tablet":n>=768?"tablet-portrait":n>=480?"handset":"handset-portrait",this.set({format:e,height:this.el.offsetHeight,width:this.el.offsetWidth})}}));var e=_.throttle(function(){t.window.set({width:window.innerWidth,height:window.innerHeight})},160);document.addEventListener("DOMContentLoaded",function(){window.UI.container.el=document.body.getElementsByClassName("u-container")[0]}),window.addEventListener("load",function(){window.addEventListener("resize",e,!1),e()},!1)}(UI),function(t){t.backdrop=new(Backbone.View.extend({name:"BackdropView",tagName:"div",className:"c-backdrop",events:{click:function(t){this.trigger("click",this,t)}},show:function(t){return t||(t={}),document.body.appendChild(this.el),_.isNumber(t.opacity)&&(this.el.style.opacity=t.opacity),_.isNumber(t.zIndex)&&(this.el.style.zIndex=t.zIndex),this.trigger("show",this),this},hide:function(){return this.el.style.opacity=0,this.el.style.zIndex="",setTimeout(function(){this.el.style.opacity="",this.trigger("hide",this);try{document.body.removeChild(this.el)}catch(t){}}.bind(this),160),this}}))}(UI);