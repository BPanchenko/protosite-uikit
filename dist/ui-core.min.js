"use strict";!function(e,t){var n=window.UI=Object.assign({},e.Events),o={};n.Component=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.assert(e instanceof Element,"A component element is not Element"),this.cid=t.uniqueId("component"),this.el=e,this._ensureElement();try{n=t.stringToObject(n)}catch(e){}this.options=n,this.initialize.apply(this,arguments),e[this.constructor.reference]=this},n.Component.extend=function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=this;return e=i.hasOwnProperty("constructor")?i.constructor:function(){return d.apply(this,arguments)},Object.assign(e,{attr:"ui-"+i.name.toLowerCase(),reference:"_ui"+i.name,selector:"*[ui-"+i.name.toLowerCase()+"]"},d,r),e.prototype=t.create(d.prototype,i),e.prototype.constructor=e,e.__super__=d.prototype,n[i.name]=e,o[i.name]=e.selector,e},t.extend(n.Component.prototype,e.View.prototype)}(Backbone,_),function(e){e.backdrop=new(Backbone.View.extend({name:"BackdropView",tagName:"div",className:"c-backdrop",events:{click:function(e){this.trigger("click",this,e)}},show:function(e){return e||(e={}),document.body.appendChild(this.el),_.isNumber(e.opacity)&&(this.el.style.opacity=e.opacity),_.isNumber(e.zIndex)&&(this.el.style.zIndex=e.zIndex),this.trigger("show",this),this},hide:function(){return this.el.style.opacity=0,this.el.style.zIndex="",setTimeout(function(){this.el.style.opacity="",this.trigger("hide",this);try{document.body.removeChild(this.el)}catch(e){}}.bind(this),160),this}}))}(UI),function(e){e.window=new(Backbone.Model.extend({name:"WindowModel",defaults:{width:0,height:0},_origin:window})),e.container=new(Backbone.Model.extend({name:"ContainerModel",defaults:{width:0,height:0,format:""},initialize:function(){this.listenTo(e.window,"change:width",this.setFormat)},setFormat:function(){var t,n=e.window.get("width");return t=n>=1360?"xdesktop":n>=1180?"desktop":n>=1024?"tablet":n>=768?"tablet-portrait":n>=480?"handset":"handset-portrait",this.set({format:t,height:this.el.offsetHeight,width:this.el.offsetWidth})}}));var t=_.throttle(function(){e.window.set({width:window.innerWidth,height:window.innerHeight})},160);document.addEventListener("DOMContentLoaded",function(){window.UI.container.el=document.body.getElementsByClassName("o-container")[0]}),window.addEventListener("load",function(){window.addEventListener("resize",t,!1),t()},!1)}(UI),function(e){var t=document.documentElement;e.dom=Object.create(Backbone.Events),e.dom.observer=new MutationObserver(function(n){var o={added:[],removed:[]};n.forEach(function(e){if("childList"==e.type){var t=Array.from(e.addedNodes).filter(function(e){return e instanceof HTMLElement}),n=Array.from(e.removedNodes).filter(function(e){return e instanceof HTMLElement});o.added=o.added.concat(t),o.removed=o.removed.concat(n)}}),e.dom.trigger("change",t,o)}),e.dom.on("ready",function(){e.dom.observer.observe(document.body,{childList:!0,subtree:!0})}),document.addEventListener("DOMContentLoaded",function(){e.dom.trigger("ready",t)})}(UI);