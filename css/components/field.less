@import "../variables";

/**
 * Component:		`c-field`
 *
 * Elements:		`c-field-input`
 *                  `c-field-label`
 *                  `c-field-error`
 *
 * States:			`is-filled`
 *					`is-focused`
 *					`is-invalid`
 *					`is-valid`
 *
 ========================================================================== */

// Variables
// ========================================================================

@c-field-width: @unit * 30;
@c-field-height: 6rem;
@c-field-padding-top: @unit;
@c-field-padding-bottom: @unit;

@c-field-error-font-size: 1.1rem;
@c-field-error-font-weight: 700;
@c-field-error-line-height: 1;
@c-field-error-color: @clr-red-400;


@c-field-label-top: @c-field-padding-top + .3rem;
@c-field-label-left: 0;
@c-field-label-font-size: @body-font-size;
@c-field-label-color: @clr-grey-600;

@c-field-focused-label-top: 0;
@c-field-focused-label-left: 0;
@c-field-focused-label-font-size: 1.1rem;
@c-field-focused-label-color: @body-color;

@c-field-label-left-after-icon: @c-field-icon-width;


@c-field-icon-width: @c-field-input-height;
@c-field-icon-height: @c-field-input-height;


@c-field-input-height: @unit * 1.5;
@c-field-input-border-bottom: 1px solid @body-color;
@c-field-input-invalid-border-bottom: 1px solid @clr-red-400;


/* Parent element: `c-field` (if you want to use the input tag)
 ========================================================================== */

.c-field {
	display: inline-block;
	position: relative;
	box-sizing: border-box;

	width: @c-field-width;
	height: @c-field-height;
	padding-top: @c-field-padding-top;
	padding-bottom: @c-field-padding-bottom;

	&::before {
		content: ' ';
		display: block;
		width: inherit;
		border-bottom: @c-field-input-border-bottom;
		transform: translate(0, @c-field-input-height);
		transition: border-bottom 160ms @easing;
	}
	
	// Invalid state
	&.is-invalid::before {
		border-bottom: @c-field-input-invalid-border-bottom;
	}
}


/* Element: `c-field-input`
 ========================================================================== */

.c-field-input {
	display: inline-block;
	background-color: transparent;
	width: inherit;
	height: @c-field-input-height;
	box-sizing: border-box;

	border: none;
	outline: none;
}


/* Element: `c-field-label`
 ========================================================================== */

.c-field-label {
	position: absolute;
	top: @c-field-label-top;
	left: @c-field-label-left;
	font-size: @c-field-label-font-size;
	color: @c-field-label-color;

	transition: left 160ms @easing, font-size 160ms @easing, color 160ms @easing, top 160ms @easing;
}

// Modifiers: `is-focused` and `is-filled`
.c-field.is-filled .c-field-label,
.c-field.is-focused .c-field-label {
	top: @c-field-focused-label-top;
	left: @c-field-focused-label-left;
	font-size: @c-field-focused-label-font-size;
}

.c-field.is-focused .c-field-label {
	color: @c-field-focused-label-color;
}


/* Element: `c-field-icon`
 ========================================================================== */

.c-field-icon {
	position: absolute;
	top: @c-field-padding-top;

	display: inline-block;
	width: @c-field-icon-width;
	height: @c-field-icon-height;
	text-align: center;
	line-height: @c-field-icon-height + .3rem;
}

.c-field-icon + .c-field-label {
	left: @c-field-label-left-after-icon;
}

.c-field-icon + .c-field-input,
.c-field-icon + .c-field-label + .c-field-input {
	padding-left: @c-field-label-left-after-icon;
}


/* Element: `c-field-error`
 ========================================================================== */

.c-field-error {
	font-size: @c-field-error-font-size;
	font-weight: @c-field-error-font-weight;
	line-height: @c-field-error-line-height;
	color: @c-field-error-color;
	opacity: 0;

	transition: opacity 160ms @easing;
}

// Invalid state
.c-field.is-invalid .c-field-error {
	opacity: 1;
}